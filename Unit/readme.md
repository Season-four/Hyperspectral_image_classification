# 机器学习实验课测试说明

### 由于IGRASS网站正在维护，为了同学们作业的正常进行，我们提供一套测试代码，方便大家做后续的性能评估和作业文档提交


```markdown
unit.py 模块中提供了测试函数 performence_get(test_file_path,dataset_id),
其中 test_file_path 为需要提交的 *.tif 文件路径，测试时自行指定，dataset_id == 0 时，表示在Indian_pines数据集上进行测试，dataset_id == 1 时，表示在Pavia数据集上进行测试，注意，该函数直接输出结果，不设返回值，大家在写报告时将输出结果提交分析即可

```
### Tip!!! 严格使用训练数据集进行训练和测试，禁止使用 result 文件夹中所给的groundtruth，否则实验不计成绩
测试代码如tmp.py所示
```markdown
import unit

path = 'result/pavia_pre.tif'
unit.performence_get(path,dataset_id=1)
```

示例结果输出如下图所示
```markdown
C:\Users\lab103\Anaconda3\python.exe E:/Code/RemoteDataProcessing/魏老师课程/Unit/tmp.py
The data shape you given is:  (145, 145)
1 class: ( 1266.0 / 1297.0 ) 0.9760986892829607
2 class: ( 694.0 / 773.0 ) 0.8978007761966365
3 class: ( 465.0 / 484.0 ) 0.9607438016528925
4 class: ( 708.0 / 711.0 ) 0.9957805907172996
5 class: ( 474.0 / 483.0 ) 0.9813664596273292
6 class: ( 839.0 / 927.0 ) 0.9050701186623517
7 class: ( 2341.0 / 2741.0 ) 0.8540678584458227
8 class: ( 545.0 / 607.0 ) 0.8978583196046128
9 class: ( 1241.0 / 1255.0 ) 0.9888446215139443
10 class: ( 46.0 / 51.0 ) 0.9019607843137255
11 class: ( 183.0 / 187.0 ) 0.9786096256684492
12 class: ( 16.0 / 16.0 ) 1.0
13 class: ( 20.0 / 21.0 ) 0.9523809523809523
14 class: ( 204.0 / 205.0 ) 0.9951219512195122
15 class: ( 364.0 / 402.0 ) 0.9054726368159204
16 class: ( 88.0 / 89.0 ) 0.9887640449438202
confusion matrix:
[[1266    7    0    0    0   42  112    0    0    1    0    0    0    0     0    0]
 [   3  694    1    0    0    0  118   10    0    0    4    0    0    0     0    0]
 [   4    0  465    0    0    7    3    0    4    0    0    0    0    0     0    0]
 [   0    0    8  708    0    0    2    0    0    0    0    0    0    0    12    0]
 [   0    0    0    0  474    0    0    0    0    4    0    0    0    0     0    0]
 [   0    0    0    0    0  839  130    2    0    0    0    0    0    0     1    0]
 [  12   17    0    0    0   39 2341   45    0    0    0    0    0    0     0    1]
 [   5    9   10    1    0    0   21  545    0    0    0    0    0    0     2    0]
 [   0    0    0    0    0    0    0    0 1241    0    0    0    0    1    23    0]
 [   0    0    0    0    0    0    0    0    0   46    0    0    0    0     0    0]
 [   7   46    0    0    0    0    1    0    0    0  183    0    0    0     0    0]
 [   0    0    0    0    0    0   12    0    0    0    0   16    0    0     0    0]
 [   0    0    0    0    0    0    0    0    0    0    0    0   20    0     0    0]
 [   0    0    0    0    0    0    1    0    0    0    0    0    0  204     0    0]
 [   0    0    0    2    9    0    0    0   10    0    0    0    1    0   364    0]
 [   0    0    0    0    0    0    0    5    0    0    0    0    0    0     0   88]]
total right num: 9494.0
oa: 0.92633426
aa: 0.9487463269403894
kappa: 0.9156473490929328

Process finished with exit code 0
```

